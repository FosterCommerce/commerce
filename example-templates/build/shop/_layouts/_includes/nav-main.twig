<!-- Template: {{ _self }}.twig -->
{% set pages = [
    {
        label: "Products",
        url: 'shop/products'
    },
    {
        label: "Plans",
        url: 'shop/plans'
    },
    {
        label: "Donations",
        url: 'shop/donations'
    }
] %}

{% if currentUser %}
    {% set pages = pages|merge([{
        label: "My Account",
        url: 'shop/customer'
    }]) %}
{% endif %}

{% if 'checkout' not in craft.app.request.pathInfo %}
    <div class="bg-gray-100">
        <div class="container mx-auto justify-between items-center p-6 relative">
            <nav class="-ml-4">
                {% for page in pages %}
                    <a href="{{ url(page.url) }}" hx-boost="true"
                       class="mr-3 rounded px-4 py-2 hover:bg-gray-200 text-gray-600 {{ (page.url in craft.app.request.pathInfo ) ? 'text-gray-900 focus:outline-none' : 'hover:text-gray-900' }}">{{ page.label }}</a>
                {% endfor %}
            </nav>
            <a href="/shop/cart" hx-boost="true" class="absolute right-0 top-0 cursor-pointer m-6 p-3 bg-white rounded-lg shadow-lg hover:shadow-xl">
                {% if cart.totalQty %}<span class="absolute -mr-3 -mt-3 right-0 top-0 py-1 px-2 rounded-full bg-red-800 text-white text-xs">{{ cart.totalQty }}</span>{% endif %}
                {% include 'shop/_images/cart.svg' %}
            </a>
        </div>
    </div>
{% endif %}