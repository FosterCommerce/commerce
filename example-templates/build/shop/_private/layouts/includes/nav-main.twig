<!-- Template: {{ _self }}.twig -->
{#
Outputs the siteâ€™s global main navigation based on path and included `pages` array.

@var cart        \craft\commerce\elements\Order
@var currentUser \craft\elements\User
#}
{% set pages = [
  {
    label: 'Products',
    url: 'shop/products'
  },
  {
    label: 'Plans',
    url: 'shop/plans'
  },
  {
    label: 'Donations',
    url: 'shop/donations'
  }
] %}

{% if currentUser %}
  {% set pages = pages|merge([{
    label: 'My Account',
    url: 'shop/customer'
  }]) %}
{% endif %}

{% if 'checkout' not in craft.app.request.pathInfo %}
  <div class="bg-gray-100">
    <div class="container mx-auto justify-between items-center p-6 relative">
      <nav class="-ml-4"
           role="navigation"
           aria-label="Main">
        {% for page in pages %}
          <a href="{{ url(page.url) }}" class="mx-4">
            {{- page.label|t -}}
          </a>
        {% endfor %}
      </nav>
      <a href="{{ url('shop/cart') }}"
         class="absolute text-lg right-0 top-0 cursor-pointer mx-6 my-5 px-2 py-1 bg-white rounded-lg hover:shadow"
      >
        {% if cart.totalQty %}
          <span class="absolute -mr-3 -mt-3 right-0 top-0 py-1 px-2 rounded-full bg-blue-800 text-white text-xs">
            {{- cart.totalQty -}}
          </span>
        {% endif %}
        <p role="img" aria-label="{{ 'Shopping Cart'|t }}">ðŸ›’</p>
      </a>
    </div>
  </div>
{% endif %}
